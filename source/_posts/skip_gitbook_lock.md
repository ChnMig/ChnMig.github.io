---
title: è®°ä¸€æ¬¡ç ´è§£ gitbook_lock å¯†ç çš„è¿‡ç¨‹             
date: 2021-12-21            
updated: 2021-12-21         
comments: true              
toc: true                   
excerpt: ç½‘ä¸Šè¶Šæ¥è¶Šå¤šçš„åšå®¢å’Œæ–‡ç« ä½¿ç”¨äº† lock ç»„ä»¶, å…·ä½“è¡¨ç°ä¸ºç»™ä½ ç”©ä¸€ä¸ªäºŒç»´ç , ç„¶åå‘Šè¯‰ä½ å…³æ³¨æŸæŸå…¬ä¼—å·è·å–è§£é”ç æ‰å¯ä»¥è§£é”å‰©ä½™å†…å®¹, å¯ä»¥è¯´æ˜¯æ¶è‡­çš„åšæ³•, æˆ‘ä¸ªäººæ˜¯åšå†³æŠµåˆ¶çš„, æˆ‘è¾“å‡ºçš„å†…å®¹ä¹Ÿä¸ä¼šåŠ å…¥è¿™ç§æœºåˆ¶æ¥å¼•æµ. 
tags:                       
- å¥½ç©çš„æŠ€æœ¯
categories:                 
- ç¼–ç¨‹     
---

## å‰è¨€

ä¸çŸ¥é“å•¥æ—¶å€™èµ·çš„æ­ªé£é‚ªæ°”, å›½å†…äººå†™çš„æ–‡ç« éƒ½ä¼šåœ¨ä¸‹é¢æ ‡äºŒç»´ç , æ˜¯èµåŠ©çš„ä¹Ÿå°±ç®—äº†, è¿˜æ•´ä¸ªå…¬ä¼—å·, æˆ‘ä¹Ÿå…³æ³¨äº†å‡ ä¸ªå…¬ä¼—å·, æ—¥æ¨90%éƒ½æ˜¯å–è¯¾, æ‰¾ç‚¹è¥å…»ç®€ç›´æ˜¯:shit:é‡Œæ·˜é‡‘, ä½ æ”¾å¹¿å‘Šå¯ä»¥, æˆ‘ä¸å…³æ³¨å°±è¡Œ, ç»“æœåæ¥è¶Šæ¥è¶Šç¦»è°±, æ¸æ¸çš„æœ‰äº›å˜æˆäº†å…³æ³¨å…¬ä¼—å·æ‰èƒ½çœ‹è§å†…å®¹, å¤§æ— è¯­äº†.

å°±æ˜¯ç±»ä¼¼äºè¿™æ ·

![æ¶è‡­](/images/posts/1.png)

ä»Šå¤©å°±çªå‘å¥‡æƒ³, çœ‹çœ‹èƒ½ä¸èƒ½ç»•è¿‡è¿™ç§æœºåˆ¶, ç»“æœè¿˜çœŸå‘ç°æŒºç®€å•çš„, å‡ åˆ†é’Ÿå°±æå®šäº†, äºæ˜¯è¿™é‡Œå°å°çš„è®°å½•ä¸€ä¸‹æ’æŸ¥è¿‡ç¨‹

> ä¸‹é¢çš„"ä½œè€…"ä»£è¡¨çš„æ˜¯æˆ‘ä»¬è¦ç ´è§£çš„è¿™ä¸ªç½‘ç«™çš„ä½œè€…, è€Œæœ¬äººä»¥"æˆ‘"ä»£ç§°

## æ€è€ƒä½œè€…çš„å®ç°æ–¹å¼

ä¸€ä¸Šæ¥å°±å»å®æ“æ˜¯ä¸æ˜æ™ºçš„, ä¸€ä¸ªäººå¾ˆå®¹æ˜“èµ°å…¥æ­»èƒ¡åŒ, æˆ‘ä¹ æƒ¯åœ¨è§£å†³é—®é¢˜å‰å…ˆæ€è€ƒé—®é¢˜, æœŸæœ›èƒ½äº†è§£åŸå› å’Œç›®çš„

ä½œè€…åœ¨è¿™é‡Œå†™çš„æ˜¯"è·å–æ³¨å†Œç åæ°¸ä¹…å…è´¹è§‚çœ‹æ–‡ç« ", é¦–å…ˆæˆ‘éšä¾¿è¾“å…¥ä¸€ä¸ªéªŒè¯ç , ç‚¹å‡»æäº¤, å‘ç°å¹¶æ²¡æœ‰è¦æ±‚æˆ‘ç™»å½•, è¿™è¯´æ˜è¿™ä¸ªéªŒè¯ç æ˜¯é€šç”¨çš„, å¯èƒ½åªæœ‰ä¸€ä¸ªæˆ–è€…æœ‰é™çš„å‡ ä¸ª, ä¸ç„¶æˆ‘ä¸ç™»å½•, ä»–æ€ä¹ˆçŸ¥é“è¿™ä¸ªéªŒè¯ç å±äºæˆ‘å‘¢? 

è€Œä¸”æˆ‘åœ¨ç¬¬ä¸€å®¶å…¬å¸åšè¿‡ä¸€äº›éœ€è¦å¯¹æ¥å¾®ä¿¡æ¥å£çš„åŠŸèƒ½, æˆ‘çŸ¥é“å¯¹äºå¾®ä¿¡å…¬ä¼—å·æ¥è®², è¦æƒ³åšä¸€äº›æ¯”è¾ƒå¼€æ”¾çš„æ“ä½œ, æ¯”å¦‚åšåˆ°ä¸åŒçš„äººåœ¨å…¬ä¼—å·å‘é€åŒæ ·çš„æ¶ˆæ¯, å›å¤ä¸åŒçš„å†…å®¹, éœ€è¦ä¼ä¸šå¼€å‘è€…å¼€å‘çš„å…¬ä¼—å·æ‰å¯ä»¥, ä¸ªäººçš„å¼€å‘è€…åªèƒ½åšåˆ°åœ¨åå°è®¾ç½®ç”¨æˆ·å‘é€æŸä¸ªæ¶ˆæ¯ä½ è‡ªåŠ¨å›å¤æŸä¸ªæ¶ˆæ¯, æ¶ˆæ¯æ˜¯å›ºå®šçš„, åªæœ‰æ¥è‡ªå·±çš„æ¥å£æ‰å¯ä»¥åšåˆ°éšæœºç”Ÿæˆ, è€Œä¸€èˆ¬è¿™ç§å…¬ä¼—å·éƒ½æ˜¯ä¸ªäººå…¬ä¼—å·, ä¼ä¸šçš„å¾ˆå°‘

è€Œä¸”ç½‘ç«™æœ¬èº«ä¸æ”¯æŒç™»å½•, æ²¡æœ‰åŠæ³•è¿™ä¸ªå¾®ä¿¡ç”¨æˆ·ä¸å½“å‰æ­£åœ¨æµè§ˆçš„ç”¨æˆ·å»ºç«‹å…³ç³».

é‚£ä¹ˆå°±æœ‰ä¸¤ç§å¯èƒ½

- è¿™ä¸ªéªŒè¯ç å°±æ”¾åˆ°äº†ç½‘é¡µä¹‹ä¸­, æˆ‘çš„æ„æ€æ˜¯ä½œè€…é  JS å»åˆ¤æ–­éªŒè¯ç æ˜¯å¦æ­£ç¡®, è¿™å°±ä»£è¡¨æ­£ç¡®ç­”æ¡ˆä¹Ÿåœ¨æŸä¸ªæ–‡ä»¶ä¸­
- è¿™ä¸ªéªŒè¯ç çš„æ ¡éªŒæ˜¯é€šè¿‡ HTTP è¯·æ±‚æ¥åšçš„, è¿™ç§éœ€è¦è‡ªå·±æœ‰æœåŠ¡å™¨å†™ api, å¯èƒ½æ€§ä¸å¤§

å¦‚æœæ˜¯å¯èƒ½2, é‚£ä¹ˆå°±å¾ˆéš¾å»åšäº†, æˆ‘ä»¬è¦å…ˆçœ‹ä¸€ä¸‹æ˜¯å“ªä¸€ç§, æ ¡éªŒçš„æ–¹å¼å¾ˆç®€å•, f12æ‰“å¼€çœ‹ä¸€ä¸‹ç‚¹å‡»æäº¤æ—¶æœ‰æ²¡æœ‰å‘é€è¯·æ±‚

å¾ˆå¹¸è¿, å¹¶æ²¡æœ‰, å› ä¸ºç»å¤§éƒ¨åˆ†éƒ½ä¸æ˜¯è‡ªå·±å†™ api, è¿™æ˜¯å› ä¸º:

ä¸€èˆ¬åšå®¢éƒ½ä½¿ç”¨ç°æˆçš„åšå®¢æ¡†æ¶, æ¯”å¦‚ hexo è¿™äº›, è‡ªå·±å†™å‰ç«¯çš„äººå¾ˆå°‘, å¯¹äºä½¿ç”¨æ¡†æ¶çš„äººæ¥è®², è¿™ç§ğŸ”’çš„æœºåˆ¶éƒ½æ˜¯é€šè¿‡åˆ«äººå†™çš„ç»„ä»¶æ¥åšçš„, è€Œåˆ«äººå†™ç»„ä»¶ä¸ä¼šè€ƒè™‘ä½ è‡ªå·±çš„ api æ˜¯æ€ä¹ˆå®ç°çš„, æ¥å£æ€ä¹ˆèµ°, è¿”å›çš„æ•°æ®æ˜¯ä»€ä¹ˆ, æ‰€ä»¥å…¬å¼€çš„ç»„ä»¶é™¤äº†æ¥å…¥å‡ºåçš„æœåŠ¡, æ¯”å¦‚è°·æ­Œç»Ÿè®¡è¿™äº›, å‰©ä¸‹çš„éƒ½æ˜¯æœ¬åœ°å®ç°çš„

é‚£ä¹ˆåˆ°è¿™é‡Œå°±æ˜äº†äº†, è¿™é‡Œçš„ä½œè€…ä½¿ç”¨äº†æŸä¸ªåšå®¢æ¡†æ¶çš„æŸä¸ªç»„ä»¶, è¿™ä¸ªç»„ä»¶å¯ä»¥åšåˆ°å°†æ–‡ç« éšè—éƒ¨åˆ†, åªæœ‰è¾“å…¥æ­£ç¡®çš„éªŒè¯ç æ‰èƒ½è§£é”, è€Œè¿™ä¸ªæ­£ç¡®çš„éªŒè¯ç ä¹Ÿæ˜¯å†™è¿›å‰ç«¯ä¸­çš„, ç”±æœ¬åœ°å»åšæ ¡éªŒ

## æŸ¥æ‰¾æ­£ç¡®çš„éªŒè¯ç 

æˆ‘å…ˆä½¿ç”¨ f12 å®šä½åˆ°æäº¤æŒ‰é’®çš„å‰ç«¯å…ƒç´ 

``` html
<button onclick="bc()" id="btw-submit-btn" style="padding: 0 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">æ          äº¤      </button>
```

çœ‹åˆ°è¿™é‡Œå†™äº†ç‚¹å‡»æŒ‰é’®æ—¶è§¦å‘å‡½æ•°`bc`, ä½†æ˜¯è¿™ä¸ªå‡½æ•°åå¤ªçŸ­äº†, æˆ‘å…ˆå°è¯•ä¸€ä¸‹èƒ½ä¸èƒ½æ‰¾åˆ°è¿™ä¸ªå‡½æ•°.

ä¾æ—§æ˜¯æ‰“å¼€ f12, åœ¨ç‚¹å‡» tab `æºä»£ç ` ä¸€æ , è¿™é‡Œä¼šå±•ç¤ºé¡µé¢æ‰€æœ‰çš„èµ„æº

![æºä»£ç æ ](/images/posts/2.png)

é¼ æ ‡ç§»åŠ¨åˆ° top, å³é”®æœ‰ä¸€ä¸ªé€‰é¡¹: åœ¨æ‰€æœ‰æ–‡ä»¶ä¸­æœç´¢, ç‚¹å‡»è¿™ä¸ªé€‰é¡¹, æœç´¢ `bc(`

![æœç´¢ç»“æœ](/images/posts/3.png)

æœç´¢å‡ºäº†4ä¸ªåŒ¹é…, ç¬¬ä¸€ä¸ªä¸€çœ‹å°±æ˜¯ç™¾åº¦ç»Ÿè®¡, `hm.baidu.com/hm.js`å¤ªç†Ÿæ‚‰äº†, ç›´æ¥è·³è¿‡

ç¬¬äºŒä¸ª, çœ‹è¿™ä¸ª js å: `gitbook-plugin-lock/lock.js`, è¿™åº”è¯¥å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„, æŸ¥çœ‹è¿™ä¸ª js

``` js
require(['gitbook', 'jQuery'], function(gitbook, $) {
    let lockTokenKey;
    let wechatName;
    let wechatQr;
    let verificationCode;
    let thisCode;
    let thisValue;
    let allPage;
    let articleHeightPercent;

    function insertPageLock(e) {
        let authToken= localStorage.getItem(lockTokenKey)
        if (authToken!==isNaN(0)||authToken!==""||authToken!==undefined) {
            for (let  i in verificationCode) {
                if (verificationCode[i]["value"] === authToken) {
                    return true;
                }
            }
        }

        const cla = document.getElementById("book-search-results");
        const article = cla, height = article.scrollHeight;
        const halfHeight = height * articleHeightPercent;
        cla.style.height= halfHeight + 'px';
        cla.style.overflow = 'hidden'


        const html = '<div id="page-lock-wrap" style="position: absolute; bottom: 0; z-index: 9999; width: 100%; margin-top: -100px; font-family: PingFangSC-Regular, sans-serif;">' +
            '<div id="page-lock-mask" style="position: relative; height: 200px; background: -webkit-gradient(linear, 0 0%, 0 100%, from(rgba(255, 255, 255, 0)), to(rgb(255, 255, 255)));"></div>' +
            '<div class="info" style="position: absolute;left: 50%;top: 70%;bottom: 30px;transform: translate(-50%, -50%);font-size: 15px;text-align: center;background: -webkit-gradient(linear, 0 0%, 0 100%, from(rgba(255, 255, 255, 0)), to(rgb(255, 255, 255)));">\n' +
            '        <div>æ‰«ç æˆ–æœç´¢ï¼š<span style="color: #E9405A; font-weight: bold;">'+wechatName+'</span></div>\n' +
            '        <div>\n' +
            '            <span>å‘é€ </span><span class="token" style="color: #e9415a; font-weight: bold; font-size: 17px; margin-bottom: 45px;">'+thisCode+'</span>\n' +
            '        </div>\n' +
            '        <div>\n' +
            '            å³å¯<span style="color: #e9415a; font-weight: bold;">ç«‹å³æ°¸ä¹…</span>è§£é”æœ¬ç«™å…¨éƒ¨æ–‡ç« \n' +
            '        </div>\n' +
            '        <div id="btw-modal-input-code" style="margin-top: 20px; background: rgb(255, 255, 255);"><input '+
            '         id="btw-modal-input" type="text" maxLength="10" placeholder="è¯·è¾“å…¥éªŒè¯ç " '+
            '    style="width: 160px; height: 32px; line-height: 32px; padding: 0 10px; margin: 0 10px; font-size: 13px; text-rendering: auto; text-transform: none; cursor: text; outline: none; box-sizing: border-box; border: 1px solid rgb(221, 221, 221); appearance: textfield; background-color: white; -webkit-rtl-ordering: logical;">'+
            '    <button onclick="bc()" id="btw-submit-btn" '+
            '             style="padding: 0 20px; height: 32px; font-size: 14px; outline: none; border: none; color: rgb(255, 255, 255); background: rgb(222, 104, 109); cursor: pointer;">æ '+
            '         äº¤'+
            '      </button></div>\n '+
            '    <div>\n' +
            '        <img class="code-img" style="width: 300px;display:unset" src="'+wechatQr+'">\n' +
            '    </div>\n' +
            '</div>' +
            '</div>';

        const child = document.createElement('div')
        child.innerHTML = html
        cla.appendChild(child)
        bc = function () {
            const val = document.getElementById('btw-modal-input').value
            if (val === thisValue) {
                cla.style.height = height + 'px';
                cla.style.overflow = 'visible';
                const rm = document.getElementById("page-lock-wrap")
                rm.parentNode.removeChild(rm)
                localStorage.setItem(lockTokenKey, thisValue)
            } else if (val === "" || val === undefined || val === isNaN(0)) {
                return false;
            } else {
                alert("éªŒè¯ç ä¸æ­£ç¡®!")
            }
        }
    }

    gitbook.events.bind('start', function(e, config) {
        lockTokenKey = config.lock.lockTokenKey || 'lock-token';
        wechatName  = config.lock.wechatName || '';
        wechatQr  = config.lock.wechatQr || '';
        verificationCode = config.lock.verificationCode || '';
        allPage = config.lock.allPage || false;
        articleHeightPercent = config.lock.articleHeightPercent || 0.5;
        if (articleHeightPercent >= 1 || articleHeightPercent <= 0) {
            articleHeightPercent = 0.5
        }

        const rand = Math.floor(Math.random() * verificationCode.length)
        thisCode = verificationCode[rand]["key"]
        thisValue = verificationCode[rand]["value"]

    });

    gitbook.events.bind('page.change', function(e) {
        const place = document.getElementsByClassName("page-lock-place")
        if (allPage || place.length !== 0) {
            insertPageLock(e);
        }
    });
});

```

è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°äº†å‡½æ•°`bc`, æ¯”å¯¹æ˜¯è¿™é‡Œ `if (val === thisValue)`, ç›¸ç­‰åˆ™å°†ç»“æœå±•ç¤º, ä¸æƒ³ç­‰å°±å¼¹å‡ºéªŒè¯ç ä¸æ­£ç¡®, æ˜ç¡®äº†`thisValue`å°±æ˜¯æ­£ç¡®çš„éªŒè¯ç 

æˆ‘åœ¨è¿™ä¸ª js ä¸­æœç´¢ `thisValue` , æ€»å…±å››å¤„, æœ‰ä¸€å¤„æ˜¯è¿™é‡Œ

``` js
const rand = Math.floor(Math.random() * verificationCode.length)        
thisCode = verificationCode[rand]["key"]
thisValue = verificationCode[rand]["value"]
```

ä»ä»£ç æ¥çœ‹, æ˜¯è·å–çš„`verificationCode`, è¿™ä¸ª`verificationCode`æ˜¯ä¸€ä¸ªåˆ—è¡¨, ç„¶åéšæœºè·å–ä¸€ä¸ªåˆ—è¡¨å†…çš„ key å’Œ value, è¿™é‡Œçš„ key å°±æ˜¯å›¾ä¸Šçš„`1024`, value å°±æ˜¯æ­£ç¡®çš„éªŒè¯ç äº†,  è¿™é‡Œå¹¶æ²¡æœ‰å®šä¹‰å…·ä½“çš„å€¼, è¿™ä¹Ÿæ˜¯æ­£ç¡®çš„, å› ä¸ºæ—¢ç„¶æ˜¯ç»„ä»¶, è‚¯å®šä¸ä¼šè®©ç»„ä»¶çš„å¼€å‘è€…å†™æ­»æ­£ç¡®çš„éªŒè¯ç , æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶æ”¾ç½®æ­£ç¡®çš„éªŒè¯ç , è¿™é‡Œåº”è¯¥æ˜¯åŠ äº†ç‚¹èŠ±æ ·, æ¯æ¬¡è¿˜æ˜¯ä¼šéšæœºè·å–ä¸€ä¸ª key å’Œ value, æˆ‘åˆ·æ–°äº†ä¸€ä¸‹é¡µé¢, æœç„¶æç¤ºçš„è¦ç»™å…¬ä¼—å·å‘é€çš„ key å·²ç»å˜æˆå¦ä¸€ä¸ªäº†,

æˆ‘çŒœæµ‹, `verificationCode`çš„ç»“æ„åº”è¯¥æ˜¯

``` json
[
  {"key": "1024", "value": "æ­£ç¡®çš„éªŒè¯ç "},
  {"key": "é¢è¯•", "value": "æ­£ç¡®çš„éªŒè¯ç "},
  ...
]
```

 æ‰€ä»¥æˆ‘å…¨éƒ¨æ–‡ä»¶æœç´¢ `verificationCode`, æœç„¶åœ¨ä¸€ä¸ª html æ–‡ä»¶ä¸­æŸ¥åˆ°äº†ä¿¡æ¯

``` html
<script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"åŸºç¡€","level":"2.1","depth":1,"next":{"title":"ä¸ªäººå­¦ä¹ ç¬”è®°","level":"2.2","depth":1,"path":"Golang/å­¦ä¹ ç¬”è®°.md","ref":"Golang/å­¦ä¹ ç¬”è®°.md","articles":[]},"previous":{"title":"@xzghua","level":"1.2","depth":1,"url":"https://www.github.com/xzghua","ref":"https://www.github.com/xzghua","articles":[]},"dir":"ltr"},"config":{"plugins":["accordion","pageview-count","copy-code-button","click-reveal","expandable-chapters","donate","anchor-navigation-ex","hide-element","statistics","github-buttons","lightbox","custom-favicon","-lunr","-search","search-pro","insert-logo","splitter","gitalks","lock","mermaid-gb3","theme-comscore"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"statistics":{"bd_url":"https://hm.baidu.com/hm.js","cnzz_url":"https://s95.cnzz.com/z_stat.php","google_url":"https://www.googletagmanager.com/gtag/js","bd_token":"efcf1af531176f98a2ecd0648da80892","cnzz_id":1278118665},"gitalks":{"flipMoveOptions":{},"clientID":"1cf16fa2a845aab2bfa4","number":-1,"perPage":10,"proxy":"https://withered-block-2317.interview.workers.dev/?https://github.com/login/oauth/access_token","admin":["chuhsent","xzghua"],"createIssueManually":false,"distractionFreeMode":false,"repo":"interview-comment","owner":"wzcu","enableHotKey":true,"clientSecret":"25fdef949a46bdc9507ecdea23c21ce745b56cf0","pagerDirection":"last","labels":["Gitalk"]},"splitter":{},"search-pro":{},"accordion":{},"lock":{"verificationCode":[{"key":"1024","value":"2048"},{"key":"666","value":"6666"},{"key":"é¢è¯•","value":"é€ ç«ç®­"},{"key":"2048","value":"1024"}],"lockTokenKey":"lock-token-key","wechatName":"æŠ€æœ¯æŠ›å…‰","wechatQr":"http://interview.wzcu.com/static/qrcode.jpg","allPage":false,"articleHeightPercent":0.6},"donate":{"alipay":"http://www.iphpt.com/static/uploads/images/alipay.jpeg","alipayText":"æ”¯ä»˜å®æ‰“èµ","button":"èµ","title":"","wechat":"http://www.iphpt.com/static/uploads/images/wechat2.jpeg","wechatText":"å¾®ä¿¡æ‰“èµ"},"hide-element":{},"fontsettings":{"theme":"white","family":"sans","size":2},"click-reveal":{},"highlight":{},"mermaid-gb3":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"favicon":"./static/red_rocket02.png","lightbox":{"jquery":true,"sameUuid":false},"theme-comscore":{},"pageview-count":{},"github-buttons":{"buttons":[{"user":"wzcu","repo":"interview-comment","type":"star","size":"small","count":true},{"user":"wzcu","repo":"interview-comment","type":"watch","size":"small","count":true}]},"custom-favicon":{},"copy-code-button":{},"mygitalk":{"clientID":"1cf16fa2a845aab2bfa4","clientSecret":"25fdef949a46bdc9507ecdea23c21ce745b56cf0","repo":"interview-comment","owner":"wzcu","admin":["chuhsent","xzghua"],"distractionFreeMode":false,"proxy":"https://withered-block-2317.interview.workers.dev/?https://github.com/login/oauth/access_token"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"insert-logo":{"style":"background: none; max-height: 30px; min-height: 30px","url":"/static/red_rocket01.jpg"},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sidebar":{"Home":"http://interview.wzcu.com"}},"gitbook":"*"},"file":{"path":"Golang/åŸºç¡€.md","mtime":"2021-08-29T03:42:36.050Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-12-05T02:37:19.012Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
```

è¿™é‡Œå‘ç°äº† `verificationCode`çš„å€¼æ˜¯

``` json
"lock":{"verificationCode":[{"key":"1024","value":"2048"},{"key":"666","value":"6666"},{"key":"é¢è¯•","value":"é€ ç«ç®­"},{"key":"2048","value":"1024"}]
```

ä¹Ÿå°±æ˜¯è¯´æœ‰3ä¸ª key, åˆ†åˆ«æ˜¯`1024`, `2048`, `é€ ç«ç®­` è‡³äºæ­£ç¡®çš„éªŒè¯ç å°±æ˜¯å…¶å¯¹åº”çš„ value

æˆ‘æœ¬æ¬¡çš„ key æ˜¯`1024`, æ‰€ä»¥æˆ‘è¾“`2048`ç‚¹å‡»æäº¤æœç„¶æˆåŠŸäº†

## æ­£ç¡®å‡­è¯å­˜å‚¨åœ¨äº†å“ªé‡Œ

å…¶å®è¿™ä¸ªä¹Ÿå¾ˆç®€å•. çœ‹å‡½æ•°`bc`çš„ä»£ç , åœ¨éªŒè¯ç æ­£ç¡®æ—¶é‚£éƒ¨åˆ†

``` js
localStorage.setItem(lockTokenKey, thisValue)
```

è¿™é‡Œæ˜¯å°†æ•°æ®ä¿å­˜åœ¨ `localStorage` ä¸­, key æš‚æ—¶ä¸çŸ¥é“æ˜¯ä»€ä¹ˆ, è€Œ value åˆ™æ˜¯æ­£ç¡®çš„éªŒè¯ç 

è€Œ`lockTokenKey`åœ¨å…¨éƒ¨æ–‡ä»¶æœç´¢å, å‘ç°è·Ÿ`verificationCode`åœ¨ä¸€èµ·å®šä¹‰äº†

``` json
"lockTokenKey":"lock-token-key"
```

é‚£ä¹ˆæˆ‘ä»¬ä¸ºäº†æ ¡éªŒ, æ‰“å¼€ f12, æŸ¥çœ‹ åº”ç”¨ç¨‹åº çš„ tag, æœç„¶æ‰¾åˆ°äº†

![localStorage](/images/posts/4.png)

æˆ‘ä»¬å°†å…¶åˆ é™¤ååˆ·æ–°é¡µé¢, å‘ç°æœç„¶åˆéœ€è¦é‡æ–°è¾“å…¥éªŒè¯ç äº†

## æ€»ç»“

å…¶å®è¿™æ˜¯å¾ˆç®€å•çš„ä¸€æ¬¡ç ´è§£, å‡ åˆ†é’Ÿæå®š, æ²¡æœ‰åšæ›´ç»†è‡´çš„æŸ¥æ‰¾, æ¯”å¦‚æµç¨‹é€»è¾‘, å› ä¸ºä½ çš„ç›®çš„åªæ˜¯æƒ³çœ‹æ–‡ç« è€Œå·², è€Œç±»ä¼¼è¿™ç§æ²¡æœ‰è‡ªå·±çš„ç”¨æˆ·ä½“ç³», ä½†æ˜¯åˆå‘Šè¯‰ä½ å…³æ³¨å…¬ä¼—å·å‘é€æŒ‡å®šçš„æ¶ˆæ¯è·å–æ°¸ä¹…éªŒè¯ç è®¿é—®å†…å®¹, åŸºæœ¬ä¹Ÿéƒ½æ˜¯è¿™æ ·çš„è®¨è®º

å¸Œæœ›ä»¥è¿™ç§æ–¹å¼æ¥ç»™è‡ªå·±çš„å…¬ä¼—å·å¼•æµçš„åšå®¢è¶Šæ¥è¶Šå°‘, ä¸»è¦æ˜¯ä½ å†…å®¹éƒ½æ˜¯å–è¯¾, éƒ½æ˜¯åƒåœ¾å†…å®¹, å®åœ¨æ˜¯è®©äººåæ„Ÿ



























