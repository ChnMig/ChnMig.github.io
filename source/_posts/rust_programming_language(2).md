---
title: Rustç¨‹åºè®¾è®¡è¯­è¨€(2)              
date: 2021-09-04            
updated: 2021-09-04         
comments: true              
toc: true                   
excerpt: Rustçš„å˜é‡ä¸ŽåŸºç¡€æ•°æ®ç±»åž‹
tags:                       
- Rust
categories:                 
- ç¼–ç¨‹
---

## å˜é‡ä¸Žå¯å˜æ€§

rusté»˜è®¤ä½ åˆ›å»ºçš„å˜é‡æ˜¯**ä¸å¯å˜å˜é‡**, è¿™æ˜¯ä¸ºäº†æé«˜ä»£ç çš„å®‰å…¨æ€§, rusté¼“åŠ±ä½ å¤šä½¿ç”¨**ä¸å¯å˜å˜é‡**, å½“ç„¶å½“ä½ æœ‰éœ€è¦çš„æ—¶å€™, ä½ å¯ä»¥å°†å…¶å˜æˆå¯å˜å˜é‡

æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®æ¥å¼€å§‹æœ¬ç«  `cargo new variables`

ä¿®æ”¹`main.rs`ä¸º

``` rust
fn main() {
    let x = 5;
    println!("{}", x);
    x = 6;
    println!("{}", x);
}
```

è¿è¡Œä»–, ä¼šæŠ¥é”™

``` bash
âžœ  variables git:(master) âœ— cargo run
   Compiling variables v0.1.0 (/Users/Work/Code/Rust/student/variables)
error[E0384]: cannot assign twice to immutable variable `x`
 --> src/main.rs:4:5
  |
2 |     let x = 5;
  |         -
  |         |
  |         first assignment to `x`
  |         help: make this binding mutable: `mut x`
3 |     println!("{}", x);
4 |     x = 6;
  |     ^^^^^ cannot assign twice to immutable variable

error: aborting due to previous error

For more information about this error, try `rustc --explain E0384`.
error: could not compile `variables`.

To learn more, run the command again with --verbose.
```

è¿™é‡Œçš„é”™è¯¯æ˜¯ `cannot assign twice to immutable variable`, å‘Šè¯‰ä½ ä¸èƒ½å¯¹ä¸å¯å˜å˜é‡äºŒæ¬¡èµ‹å€¼

ruståŠ å…¥è¿™ä¸ªé™åˆ¶æ˜¯ä¸ºäº†ä»£ç çš„å®‰å…¨æ€§, å› ä¸ºå¯¹äºŽå¼€å‘è€…æ¥è¯´, å»ºç«‹**ä¸å¯å˜å˜é‡**çš„ç›®çš„æ˜¯ä¸å¸Œæœ›ä»–èƒ½å¤Ÿä¿®æ”¹, å¦‚æžœä½ å¯ä»¥ä¿®æ”¹, å°±å¯èƒ½ä¼šå¯¼è‡´ä»£ç æœç€æ— æ³•é¢„æ–™çš„æ–¹å‘å‘å±•

åœ¨rustä¸­, ç¼–è¯‘å™¨ä¼šç¡®ä¿ä½ åˆ›å»ºçš„**ä¸å¯å˜å˜é‡**æ°¸è¿œä¸è¢«ä¿®æ”¹, è¿™èƒ½è®©ä½ æ›´åŠ ä¸“æ³¨çš„è€ƒè™‘æ­£å¸¸çš„é€»è¾‘

åŒæ—¶æˆ‘ä»¬å¯ä»¥è®¾ç½®**å¯å˜å˜é‡**æ¥è§£å†³é—®é¢˜, ä½¿ç”¨ `mut` æ¥æ ‡è¯†è¿™ä¸ªå˜é‡æ˜¯å¯å˜çš„, æ¯”å¦‚

``` rust
fn main() {
    let mut x = 5;
    println!("{}", x);
    x = 6;
    println!("{}", x);
}
```

æ­¤æ—¶å°±å¯ä»¥æ­£å¸¸çš„è¿è¡Œ

``` bash
âžœ  variables git:(master) âœ— cargo run
   Compiling variables v0.1.0 (/Users/Work/Code/Rust/student/variables)
    Finished dev [unoptimized + debuginfo] target(s) in 0.60s
     Running `target/debug/variables`
5
6
```

å¯¹äºŽå¤§åž‹çš„é¡¹ç›®æ¥è¯´, å°†å˜é‡è®¾ç½®æˆå¯å˜ç„¶åŽæ›´æ”¹å…¶å€¼è¦æ¯”å°†å˜é‡è®¾ç½®ä¸ºä¸å¯å˜ç„¶åŽè¯»å–å…¶å€¼å¤åˆ¶ç»™æ–°çš„å˜é‡æ•ˆçŽ‡æ›´é«˜

### å˜é‡ä¸Žå¸¸é‡çš„åŒºåˆ«

å½“ä½ åˆ›å»ºä¸€ä¸ª`ä¸å¯å˜å˜é‡` æ—¶, ä½ ä»ç„¶å¯ä»¥åœ¨åŽç»­ä¸­ä¿®æ”¹ä»–ä¸º`å¯å˜å˜é‡`, ä½†æ˜¯å¯¹äºŽå¸¸é‡æ¥è®², åˆ›å»ºè¿‡åŽåŠ æ— æ³•é€šè¿‡ä»»ä½•æ–¹å¼ä¿®æ”¹, ä»–ä¸æ˜¯é¢„è®¾æ— æ³•ä¿®æ”¹, è€Œæ˜¯`æ°¸è¿œæ— æ³•ä¿®æ”¹`

å½“ä½ ä½¿ç”¨ `const` å…³é”®å­—æ¥åˆ›å»ºå¸¸é‡æ—¶, å¿…é¡»è¦æŒ‡å®šä»–çš„ç±»åž‹

å¸¸é‡åªèƒ½è¢«å¸¸é‡è¡¨è¾¾å¼æ¥è®¾ç½®, ä¸èƒ½é€šè¿‡æŸä¸ªå‡½æ•°çš„è¿”å›žå€¼æˆ–è€…è¿è¡Œæ—¶äº§ç”Ÿçš„æ•°å€¼æ¥è®¾ç½®

rustçš„å¸¸é‡é€šå¸¸ä½¿ç”¨**å…¨å¤§å†™çš„å­—æ¯, å¤šä¸ªå•è¯é—´ä½¿ç”¨_è¿žæŽ¥**çš„æ–¹å¼æ¥å‘½å, ä¾‹å¦‚

``` rust
const MAX_POINTS: u32 = 100_000;  // åˆ›å»ºå¸¸é‡ MAX_POINTS , ç±»åž‹æ˜¯u32, å€¼æ˜¯100000
```

å…¶ä¸­, `100000`ä¸Ž`100_000`æ˜¯ä¸€æ ·çš„æ•°å€¼, åŠ `_`å¯ä»¥æå‡å¯è¯»æ€§

### é®è”½(shadowing)

å¯¹äºŽå˜é‡æ¥è®², æˆ‘ä»¬å¯ä»¥åœ¨ç»™æŸä¸ªå˜é‡èµ‹å€¼åŽ, é€šè¿‡`é®è”½`çš„æ–¹å¼æ¥é‡æ–°èµ‹å€¼, æˆ–è€…è¯´æ˜¯è¦†ç›–

ä½¿ç”¨ `let` æ¥å¯¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å˜é‡é‡æ–°å£°æ˜Ž, è¿™æ ·æ–°çš„å˜é‡å°±ä¼šé®è”½åŽŸæ¥çš„å˜é‡

``` rust
fn main() {
    let a = 1;
    println!("{}", a);
    let a = 5;
    println!("{}", a);
    let a = a+1;
    println!("{}", a);
}
```

è¾“å‡º

``` bash
1
5
6
```

éœ€è¦æ³¨æ„çš„æ˜¯, æˆ‘ä»¬åœ¨é®è”½æ—¶, å¿…é¡»è¦å¸¦ä¸Š`let`å…³é”®å­—, å¦åˆ™ä¼šå‡ºçŽ°ç¼–è¯‘é”™è¯¯

æˆ‘ä»¬çŸ¥é“, ä½¿ç”¨ `mut` å¯ä»¥è®¾ç½®å¯å˜å˜é‡, ä»–ä¸Žé®è”½çš„ä¸åŒæ˜¯é®è”½å¯¹æŸä¸ªå˜é‡æ“ä½œæ—¶å¯ä»¥è®¾ç½®ä¸åŒçš„ç±»åž‹, è€Œmutä¸å¯ä»¥, æ¯”å¦‚

``` rust
    let spaces = "   ";
    let spaces = spaces.len();
```

è¿™é‡Œ `spaces` ä»Žå­—ç¬¦ä¸²ç±»åž‹é®è”½æˆäº†æ•°å­—ç±»åž‹

``` rust
    let mut spaces = "   ";
    spaces = spaces.len();
```

è¿™æ®µä»£ç æ˜¯æ— æ³•ç¼–è¯‘çš„, å› ä¸ºmutæ— æ³•æ”¹å˜å€¼çš„ç±»åž‹

``` rust
fn main() {
    let mut a = 1;
    println!("{}", a);
    a = "dadad"
}
```

``` bash
âžœ  variables git:(master) âœ— cargo run
   Compiling variables v0.1.0 (/Users/Work/Code/Rust/student/variables)
error[E0308]: mismatched types
 --> src/main.rs:4:9
  |
4 |     a = "dadad"
  |         ^^^^^^^ expected integer, found `&str`

error: aborting due to previous error

For more information about this error, try `rustc --explain E0308`.
error: could not compile `variables`.
```

## æ•°æ®ç±»åž‹

æ•°æ®ç±»åž‹åˆ†ä¸ºä¸¤ç§: **çº¯é‡(scalar)**å’Œ**å¤åˆ(compound)**

Rustæ˜¯ä¸€ä¸ªé™æ€ç±»åž‹è¯­è¨€, å› æ­¤, æ‰€æœ‰å˜é‡åœ¨ç¼–è¯‘æ—¶ç¼–è¯‘å™¨å°±å¿…é¡»çŸ¥é“ä»–çš„ç±»åž‹, å¦‚æžœæ— æ³•å¾—çŸ¥å°±ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯

å½“ç„¶, ä¸€èˆ¬æƒ…å†µä¸‹, ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¯†åˆ«å‡ºæˆ‘ä»¬æƒ³è¦è®¾ç½®çš„ç±»åž‹, æ¯”å¦‚

``` rust
let a = 1;
```

ä½†æ˜¯å¯¹äºŽå‡½æ•°æ¥è®², æœ‰æ—¶å€™å¯èƒ½æœ‰å¤šä¸ªå¯èƒ½çš„ç»“æžœè¿”å›ž, æ¯”å¦‚

``` rust
let guess: u32 = "42".parse().expect("errorï¼");
```

åœ¨ç¼–è¯‘æ—¶å°±ä¼šå‡ºçŽ°é”™è¯¯

``` rust
   Compiling variables v0.1.0 (/Users/Work/Code/Rust/student/variables)
warning: unused variable: `guess`
 --> src/main.rs:2:9
  |
2 |     let guess: u32 = "42".parse().expect("é€™ä¸æ˜¯æ•¸å­—ï¼");
  |         ^^^^^ help: consider prefixing with an underscore: `_guess`
  |
  = note: `#[warn(unused_variables)]` on by default

    Finished dev [unoptimized + debuginfo] target(s) in 0.40s
     Running `target/debug/variables`
```

### çº¯é‡

çº¯é‡çš„ç±»åž‹ä»£è¡¨å•ä¸€çš„å€¼, rustæœ‰å››ç§çº¯é‡, åˆ†åˆ«ä¸º **æ•´æ•°/æµ®ç‚¹æ•°/å­—ç¬¦/å¸ƒå°”**

**æ•´æ•°**

æ•´æ•°æŒ‡çš„æ˜¯æ²¡æœ‰å°æ•°ç‚¹çš„æ•°å­—, ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨è¿‡ `u32`, è¿˜æœ‰å…¶ä»–çš„å‡ ç§

|   é•¿åº¦   | å¸¦æ­£è´Ÿå· | ä¸å¸¦æ­£è´Ÿå·(æ­£æ•´æ•°) |
| :------: | :------: | :----------------: |
|   8ä½    |    i8    |         u8         |
|   16ä½   |   i16    |        u16         |
|   32ä½   |   i32    |        u32         |
|   64ä½   |   i64    |        u64         |
|  128ä½   |   i128   |        u128        |
| ç³»ç»Ÿæž¶æž„  |  isize   |       usize        |

é¦–å…ˆ, å¸¦æ­£è´Ÿå·ä¸Žä¸å¸¦æ­£è´Ÿå·çš„åŒºåˆ«å°±æ˜¯å­—é¢æ„æ€, å¸¦æ­£è´Ÿå·å¯ä»¥è¡¨ç¤ºè´Ÿæ•°, ä¸å¸¦åˆ™åªèƒ½è¡¨ç¤ºæ­£æ•´æ•°

ç„¶åŽ, é•¿åº¦ä»£è¡¨äº†è¿™ä¸ªå˜é‡åœ¨è®°å¿†ä½“å†…å­˜å‚¨çš„å¤§å°, ä¹Ÿå½±å“äº†æ•°å­—çš„èŒƒå›´, è€Œ`isize`å’Œ`usize`åˆ™ä¸Žç³»ç»Ÿæœ‰å…³, å¦‚æžœä½ çš„ç³»ç»Ÿæ˜¯32ä½, åˆ™æ˜¯32ä½çš„é•¿åº¦, 64å°±æ˜¯64

å¯¹äºŽæŸä¸ªæ•°å­—, ä½ å¯ä»¥å°†ç±»åž‹æ‹¼åœ¨å€¼åŽé¢æ¥æ ‡è¯†è¿™ä¸ªå€¼æ˜¯ä»€ä¹ˆç±»åž‹, æ¯”å¦‚`54u16`ä»£è¡¨æ˜¯`u16`ä½çš„å€¼æ˜¯54

é»˜è®¤çš„æ•´æ•°æ˜¯`i32`, è¿™åœ¨rustä¸­æ˜¯è¿è¡Œé€Ÿåº¦æœ€å¿«çš„ç±»åž‹

**æ•´æ•°æº¢å‡º**

ä¸¾ä¸ªä¾‹å­, å¦‚æžœä½ åˆ›å»ºäº†ä¸€ä¸ª`u8`çš„å˜é‡, é‚£ä¹ˆä»–çš„é•¿åº¦åªæœ‰8ä½, åªèƒ½å®¹çº³ 1-255 ä¹‹é—´çš„æ•°å€¼, å¦‚æžœä½ ç»™ä»–èµ‹å€¼æˆ 256, æˆ–è€…å¤§äºŽ255çš„æ•°å­—, å°±ä¼šå‘ç”Ÿ**æ•´æ•°æº¢å‡º**, å¦‚æžœä½ æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹ç¼–è¯‘çš„è¯, åˆ™ä¼šåœ¨è¿è¡Œæ—¶é€ æˆ**panic**é”™è¯¯, å¦‚æžœä½ æ˜¯ç¼–è¯‘æˆç¨³å®šç‰ˆ(release), ç¨‹åºåœ¨æ£€æµ‹åˆ°æº¢å‡ºæ—¶ä¼šå¤„ç†è¿™ä¸ªé”™è¯¯, å¹¶ä¸ä¼šè®©ä»–ç›´æŽ¥panicä½†æ˜¯ä¼šä½¿åŽŸæœ‰çš„å€¼å‘ç”Ÿå˜åŒ–, é€ æˆé€»è¾‘é”™è¯¯.

**æµ®ç‚¹æ•°**

æµ®ç‚¹æ•°æœ‰ `f32(å•ç²¾åº¦)` å’Œ `f64(åŒç²¾åº¦)`, é»˜è®¤æ˜¯`f64`

``` rust
fn main() {
    let x = 2.0; // f64

    let y: f32 = 3.0; // f32
}
```

**æ•°å€¼è¿ç®—**

æ•°å€¼ä¹‹é—´å½“ç„¶å¯ä»¥è¿›è¡Œè¿ç®—

``` rust
fn main() {
    // åŠ 
    let sum = 5 + 10;

    // æ¸›
    let difference = 95.5 - 4.3;

    // ä¹˜
    let product = 4 * 30;

    // é™¤
    let quotient = 56.7 / 32.2;

    // æ±‚ä½™
    let remainder = 43 % 5;
}
```

**å¸ƒå°”å€¼**

`true(çœŸ)`å’Œ`false(å‡)`

``` rust
fn main() {
    let t = true;

    let f: bool = false; 
}
```

**å­—ç¬¦**

å•ä¸ªå­—ç¬¦ä½¿ç”¨å•å¼•å·æ¥è¡¨ç¤º, ä¾‹å¦‚ä¸€ä¸ªå­—æ¯/ä¸­æ–‡/è¡¨æƒ…, å½“æˆ‘ä»¬éœ€è¦è¡¨è¾¾ä¸æ­¢ä¸€ä¸ªå­—ç¬¦æ—¶, å°±éœ€è¦ä½¿ç”¨åŒå¼•å·

``` rust
fn main() {
    let c = 'z';
    let z = 'â„¤';
    let heart_eyed_cat = 'ðŸ˜»';
    let a = "1111111";
    let b = 'æˆ‘';
    let d: char = 'ä»–';
}
```

rustçš„`char`ä¸Ž`unicode`ç±»ä¼¼, ç¡®åˆä¸æ˜¯å®Œå…¨ä¸€æ ·, æˆ‘ä»¬ä¹‹åŽä¼šè¯¦ç»†è§£é‡Š

### å¤åˆç±»åž‹

å¤åˆç±»åž‹æœ‰ä¸¤ä¸ªæœ€åŸºæœ¬çš„, **å…ƒç»„(tuples)**å’Œ**é˜µåˆ—(arrays)**

**å…ƒç»„**

å…ƒç»„æ˜¯å°†ä¸åŒæˆ–ç›¸åŒçš„æ•°æ®ç±»åž‹æ”¾ç½®åˆ°ä¸€èµ·çš„å¸¸è§ç”¨æ³•, éœ€è¦æ³¨æ„çš„æ˜¯å…ƒç»„çš„é•¿åº¦åœ¨ç¡®å®šåŽ**æ— æ³•æ›´æ”¹**

å…ƒç»„çš„è®¾ç«‹æ˜¯ç”¨æ‹¬å·æ‹¬èµ·æ¥, å› ä¸ºä¸€ä¸ªå…ƒç»„å†…çš„æ¯ä¸ªæ•°æ®éƒ½æœ‰å¯èƒ½æœ‰ç‹¬ç«‹çš„æ•°æ®ç±»åž‹, æ‰€ä»¥åœ¨å¿…è¦æ—¶ä¹Ÿå¯ä»¥æŒ‡å®šæ¯ä¸ªçš„ç±»åž‹, å¦‚æžœä¸æŒ‡å®šrustä¼šè‡ªå·±åˆ¤æ–­

``` rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
}
```

è¿™é‡Œçš„å˜é‡tupå°±æ˜¯å…ƒç»„, å…ƒç»„å†…æœ‰å¤šä¸ªå…ƒç´ , æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**æ¨¡å¼é…å¯¹(pattern matching)**, æ¥èŽ·å–æ¯ä¸€ä¸ªå…ƒç´ çš„å€¼

``` rust
fn main() {
    let tup = (500, 6.4, 1);

    let (x, y, z) = tup;

    println!("y çš„æ•¸å€¼ç‚ºï¼š{}", y);
}
```

è¿™ç§å°†å…ƒç»„æ‰“æ•£ç„¶åŽåˆ†åˆ«èµ‹å€¼ç»™ x/y/z, éœ€è¦ä¿è¯æŽ¥å—è€…å’Œå…ƒç»„çš„é•¿åº¦æ˜¯ä¸€è‡´çš„, è¿™ç§ä¹Ÿè¢«æˆä¸º**è§£æž„(destructuring)**

è¿˜æœ‰ä¸€ç§é€šè¿‡ç´¢å¼•æ¥å–å…¶ä¸­æŸä¸ªå€¼çš„æ–¹æ³•, åœ¨rustä¸­é€šè¿‡`.`æ¥èŽ·å–, æ¯”å¦‚

``` rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);

    let five_hundred = x.0;

    let six_point_four = x.1;

    let one = x.2;
}
```

ç´¢å¼•å’Œå…¶ä»–è¯­è¨€ä¸€æ ·, éƒ½æ˜¯ä»Ž0å¼€å§‹çš„, å¹¶ä¸”ä¸èƒ½è¶…å‡ºç´¢å¼•å¤§å°

**é˜µåˆ—**

ä¸Žå…ƒç»„ä¸åŒçš„æ˜¯, ä¸€ä¸ªé˜µåˆ—çš„å…ƒç´ å¿…é¡»æ˜¯åŒä¸€ä¸ªæ•°æ®ç±»åž‹, è€Œä¸”å’Œå…ƒç»„ä¸€æ ·, é˜µåˆ—é•¿åº¦åœ¨ç¡®å®šåŽ**æ— æ³•æ›´æ”¹**

é˜µåˆ—çš„è®¾ç«‹æ˜¯ä½¿ç”¨ä¸­æ‹¬å·, ä¾‹å¦‚

``` rust
fn main() {
    let a = [1, 2, 3, 4, 5];
}
```

å½“ä½ å¸Œæœ›å°†æ•°æ®æ”¾ç½®åœ¨å †æ ˆä¸Šè€Œä¸æ˜¯å †ä¸Šæ—¶(æˆ‘ä»¬ä¹‹åŽä¼šè¯¦ç»†è§£è¯»), æˆ–è€…å½“ä½ æƒ³è¦ç¡®ä¿å§‹ç»ˆæ‹¥æœ‰å›ºå®šæ•°é‡çš„å…ƒç´ æ—¶, ä½ å¯ä»¥ä½¿ç”¨é˜µåˆ—æ¥åš

å½“ä½ ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªæ•°æ®æ—¶(å¾ˆå¤šæ—¶å€™æ˜¯è¿™æ ·), é˜µåˆ—å’Œå…ƒç»„éƒ½å°†ä¸é€‚åˆä½¿ç”¨, æ­¤æ—¶, rustæ ‡å‡†åº“æä¾›äº†**çŸ¢é‡(vector)**ç±»åž‹, ä»–æ˜¯å¯ä»¥æ”¹å˜é•¿åº¦çš„, å¦‚æžœä½ ä¸ç¡®å®šåº”è¯¥ä½¿ç”¨çŸ¢é‡è¿˜æ˜¯é˜µåˆ—æ—¶, ä½ åº”è¯¥ä½¿ç”¨çŸ¢é‡æ¥åˆ›å»º, çŸ¢é‡çš„å…·ä½“ç»†èŠ‚ä¹‹åŽå†è®²è¿°

å½“ä½ æ˜Žç¡®çš„çŸ¥é“æ•°æ®çš„æ•°é‡æ—¶, ä½ å°±å¯ä»¥æ”¾å¿ƒçš„ä½¿ç”¨é˜µåˆ—, ä¾‹å¦‚, æ¯å¹´æœ‰12ä¸ªæœˆ

``` rust
let months = ["ä¸€æœˆ", "äºŒæœˆ", "ä¸‰æœˆ", "å››æœˆ", "äº”æœˆ", "å…­æœˆ", "ä¸ƒæœˆ",
              "å…«æœˆ", "ä¹æœˆ", "åæœˆ", "åä¸€æœˆ", "åäºŒæœˆ"];
```

è¿™é‡Œrustä¼šè‡ªå·±åˆ¤åˆ«é˜µåˆ—çš„ç±»åž‹å’Œé•¿åº¦, å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‡å®š

``` rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
```

è¿™é‡Œ, i32 æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»åž‹, 5æ˜¯è¿™ä¸ªé˜µåˆ—çš„é•¿åº¦

å¦‚æžœä½ æƒ³ç»™æ¯ä¸ªå…ƒç´ éƒ½è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼, å¯ä»¥è¿™æ ·å†™

``` rust
let a = [3; 5];
```

ä¼šç”Ÿæˆé˜µåˆ—`[3, 3, 3, 3, 3]`, å³açš„é•¿åº¦ä¸º5, æ¯ä¸ªé»˜è®¤å€¼éƒ½æ˜¯3

**èŽ·å–é˜µåˆ—å…ƒç´ **

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç´¢å¼•æ¥èŽ·å–å¯¹åº”çš„å€¼

``` rust
fn main() {
    let a = [1, 2, 3, 4, 5];

    let first = a[0];
    let second = a[1];
}
```

**æ— æ•ˆçš„é˜µåˆ—å…ƒç´ èŽ·å–**

å¯¹äºŽ/é˜µåˆ—æ¥è®², å½“ä½ èŽ·å–ä¸å­˜åœ¨çš„ç´¢å¼•æ˜¯, æœ‰å¯èƒ½ä¼šå‡ºçŽ°ç¼–è¯‘é€šè¿‡è€Œè¿è¡Œæ—¶å‡ºçŽ°é”™è¯¯çš„æƒ…å†µ, æ¯”å¦‚

``` rust
fn main() {
    let a = [1, 2, 3, 4, 5];

    let element = a[10];

    println!("å…ƒç´ çš„æ•¸å€¼ç‚ºï¼š{}", element);
}
```

æˆ‘ä»¬ä½¿ç”¨checkåŠŸèƒ½å‘çŽ°å¹¶æ²¡æœ‰æ£€æŸ¥å‡ºé”™è¯¯

``` bash
âžœ  variables git:(master) âœ— cargo check
    Checking variables v0.1.0 (/Users/Work/Code/Rust/student/variables)
    Finished dev [unoptimized + debuginfo] target(s) in 0.12s
```

ä½†æ˜¯å½“æˆ‘ä»¬è¿è¡Œæ—¶, å½“æ‰§è¡Œåˆ°è¿™é‡Œæ—¶, rustä¼šæŠ›å‡ºé”™è¯¯, è€Œå¯¹äºŽå…¶ä»–çš„åº•å±‚è¯­è¨€(ä¾‹å¦‚C), åˆ™ä¸ä¼šæŠ¥é”™ä½†æ˜¯ä¼šå¾—åˆ°ä¸å¯é¢„æ–™çš„å€¼, rustè¿™æ ·åšå‡å°‘äº†ä¸å¯é¢„æ–™çš„BUGçš„äº§ç”Ÿ, è¿™æ˜¯Rustçš„å®‰å…¨åŽŸåˆ™ä¹‹ä¸€

``` bash
âžœ  variables git:(master) âœ— cargo run
   Compiling variables v0.1.0 (/Users/Work/Code/Rust/student/variables)
error: index out of bounds: the len is 5 but the index is 10
 --> src/main.rs:4:19
  |
4 |     let element = a[10];
  |                   ^^^^^
  |
  = note: `#[deny(const_err)]` on by default

error: aborting due to previous error

error: could not compile `variables`.

To learn more, run the command again with --verbose.
```